---
description: Git workflow for deca-delay development
globs: ["**/*"]
---

# Git Workflow for deca-delay

## Branch Naming Convention
```
feature/{epic-number}-{feature-slug}
```

### Examples
- `feature/0-cursor-rules` - Epic 0: Cursor rules setup
- `feature/1-fixed-delay` - Epic 1: Fixed delay function
- `feature/1-random-delay` - Epic 1: Random delay function
- `feature/2-ts-config` - Epic 2: TypeScript configuration
- `feature/4-jest-setup` - Epic 4: Jest testing setup

## Commit Message Format
Follow Conventional Commits specification:

```
type(scope): description

[optional body]

[optional footer]
```

### Types
- `feat` - New feature
- `fix` - Bug fix
- `docs` - Documentation only
- `test` - Adding or updating tests
- `chore` - Maintenance tasks
- `refactor` - Code change that neither fixes a bug nor adds a feature

### Scopes
- `delay` - Core delay function
- `random` - Random delay function
- `until` - Conditional delay function
- `build` - Build configuration
- `docs` - Documentation
- `tests` - Test files

### Examples
```
feat(delay): implement fixed delay function with Promise wrapper

feat(random): add random delay with min/max validation

test(delay): add timing accuracy tests

chore(build): configure tsup for ESM/CJS output

docs(readme): add installation and API documentation
```

## Feature Branch Workflow

### 1. Create Feature Branch
```bash
git checkout main
git pull origin main
git checkout -b feature/{epic}-{slug}
```

### 2. Implement Feature
- Write modular code following SOLID principles
- Make atomic commits as you progress
- Each commit should be buildable/testable

### 3. Write Tests
- Create tests for all new functionality
- Ensure tests pass before committing

### 4. Run Tests
```bash
npm test
```

### 5. Commit Changes
```bash
git add .
git commit -m "type(scope): description"
```

### 6. Merge to Main
```bash
git checkout main
git merge feature/{epic}-{slug}
git branch -d feature/{epic}-{slug}
```

## Merge Checklist
Before merging any feature branch:

- [ ] All tests pass (`npm test`)
- [ ] No linter errors
- [ ] Code follows SOLID principles
- [ ] Commit messages follow convention
- [ ] Feature branch is up to date with main

## Tagging Releases
```bash
git tag -a v1.0.0 -m "Release version 1.0.0"
git push origin v1.0.0
```
